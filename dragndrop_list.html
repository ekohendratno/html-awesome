<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<style>
		.drag-item {
			background-color: #f4f4f4;
			border: 1px solid #ccc;
			border-radius: 4px;
			margin-bottom: 10px;
			padding: 10px;
			cursor: grab;
		}
	</style>
</head>

<body>
	<div class="container">

		<div class="card-body">
			<h4 class="font-bold m-b-25">Recruitment Process</h4>
			<h6 class="m-b-25"><i class="fas fa-info-circle m-r-10 text-warning"></i> Please choose and arrange your
				recruitment
				process. You can only enable or disable for several process</h6>
			<div class="row m-b-20">
				<div class="col-lg-9 m-b-20 sort-item">
					<div class="card drag-item" style="border-radius:8px;display:none;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Applied</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle1">
										<input checked="" class="toggle__input" id="myToggle1" type="checkbox"
											name="pcap[]" value="1">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;display:none;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Shortlisted</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle2">
										<input checked="" class="toggle__input" id="myToggle2" type="checkbox"
											name="pcap[]" value="2">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; PKSS Interview</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle3">
										<input class="toggle__input" id="myToggle3" type="checkbox"
											name="pcap[]" value="3">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Selection Test</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle15">
										<input class="toggle__input" id="myToggle15" type="checkbox"
											name="pcap[]" value="15">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Video Colaboration Test</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle14">
										<input class="toggle__input" id="myToggle14" type="checkbox"
											name="pcap[]" value="14">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Assessment</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle4">
										<input uncheck="" class="toggle__input" id="myToggle4" type="checkbox"
											name="pcap[]" value="4">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; User Interview</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle9">
										<input uncheck="" class="toggle__input" id="myToggle9" type="checkbox"
											name="pcap[]" value="9">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Medical Check Up</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle10" title="" data-toggle="tooltip"
										data-placement="left"
										data-original-title="this process will not affect for minimum recruitment process at Suggestion">
										<input uncheck="" class="toggle__input" id="myToggle10" type="checkbox"
											name="pcap[]" value="10">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;display:none;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Hired</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle6" title="" data-toggle="tooltip"
										data-placement="left"
										data-original-title="this process will not affect for minimum recruitment process at Suggestion">
										<input checked="" class="toggle__input" id="myToggle6" type="checkbox"
											name="pcap[]" value="6">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>
					<div class="card drag-item" style="border-radius:8px;display:none;">
						<div class="card-body">
							<div class="row">
								<div class="col-lg-10">
									<h6><i class="fas fa-bars"></i>&nbsp; Rejected</h6>
								</div>
								<div class="col-lg-2 text-right">
									<label class="toggle m-l-10" for="myToggle7" title="" data-toggle="tooltip"
										data-placement="left"
										data-original-title="this process will not affect for minimum recruitment process at Suggestion">
										<input checked="" class="toggle__input" id="myToggle7" type="checkbox"
											name="pcap[]" value="7">
										<div class="toggle__fill"></div>
									</label>
								</div>
							</div>
						</div>
					</div>

				</div>

				<div class="col-lg-3 m-b-20">
					<div class="card" style="border-radius:8px">
						<div class="card-body">
							<div class="stepwizard">
								<div class="stepwizard-row">
								</div>
							</div>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>

	<script>
		$(".sort-item").sortable({
			update: function (event, ui) {
				updateList();
			}
		});
		$(".sort-item").disableSelection();


		$(".drag-item").on("click", function () {
			updateList();
		});

		function updateList() {
			var listContainer = $(".stepwizard-row");
			listContainer.empty();

			var count = 1;
			$('.toggle__input').each(function () {
				if ($(this).is(':checked')) {
					var stName = $(this).closest('.card-body').find('h6').text().trim();
					var stButton = '<div class="stepwizard-step">';
					stButton += '<button type="button" class="btn btn-circle">' + count + '</button>';
					stButton += '<p>' + stName + '</p>';
					stButton += '</div>';

					$('.stepwizard-row').append(stButton);

					count++;
				}
			});

			if (listContainer.children().length > 0) {
				listContainer.show();
			} else {
				listContainer.hide();
			}
		}

		updateList();

		/*
		var count = 1;
		$(document).ready(function () {
			$('.toggle__input').each(function () {
				if ($(this).is(':checked')) {
					var stName = $(this).closest('.card-body').find('h6').text().trim();
					var stButton = '<div class="stepwizard-step">';
					stButton += '<button type="button" class="btn btn-circle">' + count + '</button>';
					stButton += '<p>' + stName + '</p>';
					stButton += '</div>';

					$('.stepwizard-row').append(stButton);

					count++;
				}
			});
		});

		$('.toggle__input').change(function () {
			if ($(this).is(':checked')) {
				var stName = $(this).closest('.card-body').find('h6').text().trim();
				var stButton = '<div class="stepwizard-step">';
				stButton += '<button type="button" class="btn btn-circle">' + count + '</button>';
				stButton += '<p>' + stName + '</p>';
				stButton += '</div>';

				// console.log(stName);
				if (stName === 'PKSS Interview') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				if (stName === 'Selection Test') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					var step3 = $('.stepwizard-row').find('p:contains("PKSS Interview")').parent('.stepwizard-step');
					if (step3.length > 0) {
						step3.after(stButton);
					} else if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				if (stName === 'Video Colaboration Test') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					var step3 = $('.stepwizard-row').find('p:contains("PKSS Interview")').parent('.stepwizard-step');
					var step4 = $('.stepwizard-row').find('p:contains("Selection Test")').parent('.stepwizard-step');
					if (step4.length > 0) {
						step4.after(stButton);
					} else if (step3.length > 0) {
						step3.after(stButton);
					} else if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				if (stName === 'Assessment') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					var step3 = $('.stepwizard-row').find('p:contains("PKSS Interview")').parent('.stepwizard-step');
					var step4 = $('.stepwizard-row').find('p:contains("Selection Test")').parent('.stepwizard-step');
					var step5 = $('.stepwizard-row').find('p:contains("Video Colaboration Test")').parent('.stepwizard-step');
					if (step5.length > 0) {
						step5.after(stButton);
					} else if (step4.length > 0) {
						step4.after(stButton);
					} else if (step3.length > 0) {
						step3.after(stButton);
					} else if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				if (stName === 'User Interview') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					var step3 = $('.stepwizard-row').find('p:contains("PKSS Interview")').parent('.stepwizard-step');
					var step4 = $('.stepwizard-row').find('p:contains("Selection Test")').parent('.stepwizard-step');
					var step5 = $('.stepwizard-row').find('p:contains("Video Colaboration Test")').parent('.stepwizard-step');
					var step6 = $('.stepwizard-row').find('p:contains("Assessment")').parent('.stepwizard-step');
					if (step6.length > 0) {
						step6.after(stButton);
					} else if (step5.length > 0) {
						step5.after(stButton);
					} else if (step4.length > 0) {
						step4.after(stButton);
					} else if (step3.length > 0) {
						step3.after(stButton);
					} else if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				if (stName === 'Medical Check Up') {
					var step1 = $('.stepwizard-row').find('p:contains("Applied")').parent('.stepwizard-step');
					var step2 = $('.stepwizard-row').find('p:contains("Shortlisted")').parent('.stepwizard-step');
					var step3 = $('.stepwizard-row').find('p:contains("PKSS Interview")').parent('.stepwizard-step');
					var step4 = $('.stepwizard-row').find('p:contains("Selection Test")').parent('.stepwizard-step');
					var step5 = $('.stepwizard-row').find('p:contains("User Interview")').parent('.stepwizard-step');
					if (step5.length > 0) {
						step5.after(stButton);
					} else if (step4.length > 0) {
						step4.after(stButton);
					} else if (step3.length > 0) {
						step3.after(stButton);
					} else if (step2.length > 0) {
						step2.after(stButton);
					} else {
						step1.after(stButton);
					}
				}

				count++;
				updateStepNumbers();
			} else {
				var stName = $(this).closest('.card-body').find('h6').text().trim();
				$('.stepwizard-row').find('p:contains("' + stName + '")').parent('.stepwizard-step').remove();
				updateStepNumbers();
				count--;
			}
		});

		function updateStepNumbers() {
			var stepButtons = $('.stepwizard-row').find('.btn.btn-circle');
			stepButtons.each(function (index) {
				$(this).text(index + 1);
			});
		}*/

	</script>